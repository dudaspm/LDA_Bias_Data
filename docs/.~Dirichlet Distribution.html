
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dirichlet Distribution &#8212; JupyterLab + Python</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      <h1 class="site-logo" id="site-title">JupyterLab + Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   JupyterLab + Python
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  LDA and Bias Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Notebook%20Introduction%20-%20%F0%9F%90%B8.html">
   Notebook Introduction - üê∏
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Latent%20Dirichlet%20Allocation%20%28LDA%29%20-%20%F0%9F%90%93.html">
   Latent Dirichlet Allocation (LDA) - üêì
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Dirichlet%20Distribution.html">
   Dirichlet Distribution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Jigsaw.html">
   Section 2: Implementation of LDA
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Topic.html">
   Section 3: Application of LDA - A Biased Percpective
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/.~Dirichlet Distribution.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        
        
        <a class="edit-button" href="https://github.com/dudaspm/JupyterLab-Python/edit/main/.~Dirichlet Distribution.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/dudaspm/JupyterLab-Python/main?urlpath=lab/tree/.~Dirichlet Distribution.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/dudaspm/JupyterLab-Python/blob/main/.~Dirichlet Distribution.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-chinese-restaurant-process">
   The Chinese Restaurant Process
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rules-for-our-thought-problem">
   Rules for Our Thought Problem
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#an-infinite-amount-of-tables">
     1. An Infinite Amount of Tables (‚ö™)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-hungry-person-only-two-options">
     2. A Hungry Person (ü§î) Only Two Options
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#many-only-one-empty">
     3. Many ‚ö™ &amp; üòÉ, Only One Empty ‚ö™
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#all-tables-are-equal">
     All Tables (‚ö™) are Equal
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-for-thought-problem">
     Key for Thought Problem
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#all-solutions-to-the-extreme">
   All Solutions üí•TO THE EXTREMEüí•
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-social-butterfly">
     1. The Social Butterfly
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-gambler">
     2. The Gambler
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-long-day">
     3. The Long Day
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-conclusions">
   The Conclusions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#st-conclusion">
     ‚ú®1st Conclusion‚ú®
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nd-conclusion">
     ‚ú®2nd Conclusion‚ú®
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="dirichlet-distribution">
<h1>Dirichlet Distribution<a class="headerlink" href="#dirichlet-distribution" title="Permalink to this headline">¬∂</a></h1>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span>  <span class="n">HTML</span>

<span class="k">def</span> <span class="nf">load_d3_in_cell_output</span><span class="p">():</span>
  <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="s2">&quot;&lt;script src=&#39;https://d3js.org/d3.v6.min.js&#39;&gt;&lt;/script&gt;&quot;</span><span class="p">))</span>
<span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s1">&#39;pre_run_cell&#39;</span><span class="p">,</span> <span class="n">load_d3_in_cell_output</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-chinese-restaurant-process">
<h2>The Chinese Restaurant Process<a class="headerlink" href="#the-chinese-restaurant-process" title="Permalink to this headline">¬∂</a></h2>
<p>In the thought problem, we will be examing a situation where a hungery person (ü§î) enters a restrauant and needs to choose a table (‚ö™).</p>
<p>This original was developed by xxx and a great resource to consider is Pasupat‚Äôs (xxx).</p>
<p>Here are the ground rules for this thought problem.</p>
</div>
<div class="section" id="rules-for-our-thought-problem">
<h2>Rules for Our Thought Problem<a class="headerlink" href="#rules-for-our-thought-problem" title="Permalink to this headline">¬∂</a></h2>
<div class="section" id="an-infinite-amount-of-tables">
<h3>1. An Infinite Amount of Tables (‚ö™)<a class="headerlink" href="#an-infinite-amount-of-tables" title="Permalink to this headline">¬∂</a></h3>
<p>We are depicting five tables (‚ö™‚ö™‚ö™‚ö™‚ö™) but we need to consider a situation where the number of tables are infinite.</p>
<ul class="simple">
<li><p>‚ö™ = ‚àû</p></li>
</ul>
</div>
<div class="section" id="a-hungry-person-only-two-options">
<h3>2. A Hungry Person (ü§î) Only Two Options<a class="headerlink" href="#a-hungry-person-only-two-options" title="Permalink to this headline">¬∂</a></h3>
<p>When a hungry person (ü§î) walks into the the restraunt they have two options:</p>
<ul class="simple">
<li><p>Either they sit a table (‚ö™) with someone else (üòÉ)</p></li>
<li><p>or pick a new table  (‚ö™)</p></li>
</ul>
<p>To simplify this, here a decision chart.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><img alt="_images/.~Dirichlet Distribution_10_1.svg" src="_images/.~Dirichlet Distribution_10_1.svg" /></div>
</div>
<p>And to further reduce this down, we will be using this:</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><img alt="_images/.~Dirichlet Distribution_12_1.svg" src="_images/.~Dirichlet Distribution_12_1.svg" /></div>
</div>
</div>
<div class="section" id="many-only-one-empty">
<h3>3. Many ‚ö™ &amp; üòÉ, Only One Empty ‚ö™<a class="headerlink" href="#many-only-one-empty" title="Permalink to this headline">¬∂</a></h3>
<p>This goes with #2, but in our scenario there will number of tables (‚ö™) with people (üòÉ), but when considering an empty table (‚ö™). We will only consider <em>one</em> of the infinite number of tables (‚ö™) open. Another way to consider this is either a hungry person (ü§î):</p>
<ul class="simple">
<li><p>sits at the <em>one of possible many</em> tables (‚ö™) with someone else (üòÉ)</p></li>
<li><p><em>OR</em> they sit at the <em>one</em> new table  (‚ö™)</p></li>
</ul>
</div>
<div class="section" id="all-tables-are-equal">
<h3>All Tables (‚ö™) are Equal<a class="headerlink" href="#all-tables-are-equal" title="Permalink to this headline">¬∂</a></h3>
<p>Notice that all the tables are equal distance away. So, there is no weighting based on the distance and each table is equally likely to be picked.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;runWeight()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;runWeight&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">runWeight</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">500</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">270</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">35</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#runWeight&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg1</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#runWeight&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg1</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg1</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">svg1</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">runWeight</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="runWeight()" value="Run Animation">
<div id="runWeight"></div>

<script type="text/javascript">   
    function runWeight() {
        var width = 500
        var height = 270
        var margin = 35
        var radius = 200

        d3.select("div#runWeight").select("svg").remove()
        var svg1 = d3.select("div#runWeight").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg1.selectAll("line")
            .data(d3.range(5))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg1.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", "white")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        svg1.append("text")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")
    }
    runWeight()
</script>
</div></div>
</div>
</div>
<div class="section" id="key-for-thought-problem">
<h3>Key for Thought Problem<a class="headerlink" href="#key-for-thought-problem" title="Permalink to this headline">¬∂</a></h3>
<blockquote>
<div><p>ü§î - hungry person</p>
</div></blockquote>
<ul class="simple">
<li><p>The person who needs to find a seat at a table</p></li>
</ul>
<blockquote>
<div><p>üòÉ - person eating</p>
</div></blockquote>
<ul class="simple">
<li><p>A person already at a table</p></li>
</ul>
<blockquote>
<div><p>‚ö™ - a possible table</p>
</div></blockquote>
<ul class="simple">
<li><p>A potential seat for the hungry person to sit at</p></li>
</ul>
<blockquote>
<div><p>‚ö´ - a not possible table</p>
</div></blockquote>
<ul class="simple">
<li><p>Not a potential seat for the hungry person to sit at (see Rule #3)</p></li>
</ul>
</div>
</div>
<div class="section" id="all-solutions-to-the-extreme">
<h2>All Solutions üí•TO THE EXTREMEüí•<a class="headerlink" href="#all-solutions-to-the-extreme" title="Permalink to this headline">¬∂</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>‚ÄúTo the extreme!‚Äù was a popular phrase from the early 1990s. Meaning ‚Äúto take something to its furthest limits.‚Äù Most credit <a class="reference external" href="https://en.wikipedia.org/wiki/Vanilla_Ice">Robert Matthew Van Winkle</a> for the phrase.</p>
</div>
<p>Now that we have our ground rules, let‚Äôs approach this problem from, what I am calling, the extreme positions. Up to this point, we have not mentioned a single bit of math, but this section will contain conversations around probabilities. Here are three scenarios for our extreme positions.</p>
<ol class="simple">
<li><p>The Social Butterfly</p></li>
<li><p>The Gambler</p></li>
<li><p>The Long Day</p></li>
</ol>
<div class="section" id="the-social-butterfly">
<h3>1. The Social Butterfly<a class="headerlink" href="#the-social-butterfly" title="Permalink to this headline">¬∂</a></h3>
<p>The social butterfly assumes every person that enters the restraunts wants to sit at the table with the most people.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;social1()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;social1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">social1</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">500</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">270</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">35</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#social1&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg2</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#social1&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg2</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">1</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg2</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">0</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg2</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg2</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">social1</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="social1()" value="Run Animation">
<div id="social1"></div>

<script type="text/javascript">   
    function social1() {
        var width = 500
        var height = 270
        var margin = 35
        var radius = 200

        d3.select("div#social1").select("svg").remove()
        var svg2 = d3.select("div#social1").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg2.selectAll("line")
            .data(d3.range(1))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg2.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=0)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["1","0","0","0","0"]
        svg2.selectAll("text")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg2.append("text")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")
    }
    social1()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;social2()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;social2&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">social2</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#social2&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg3</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#social2&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg3</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg3</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">1</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1/1&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg3</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg3</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed&quot;</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg3</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">social2</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="social2()" value="Run Animation">
<div id="social2"></div>

<script type="text/javascript">   
    function social2() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#social2").select("svg").remove()
        var svg3 = d3.select("div#social2").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg3.selectAll("line")
            .data(d3.range(2))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg3.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=1)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["1/1","0","0","0","0"]
        svg3.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg3.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed")
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed")
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,1,svg3)
    }
    social2()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;social3()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;social3&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">social3</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#social3&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg4</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#social3&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg4</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg4</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">1</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2/2&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg4</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg4</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed&quot;</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="nx">svg4</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">social3</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="social3()" value="Run Animation">
<div id="social3"></div>

<script type="text/javascript">   
    function social3() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#social3").select("svg").remove()
        var svg4 = d3.select("div#social3").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg4.selectAll("line")
            .data(d3.range(2))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg4.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=1)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["2/2","0","0","0","0"]
        svg4.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg4.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed")
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed")
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,2,svg4)
    }
    social3()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;social4()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;social4&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">social4</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#social4&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg5</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#social4&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg5</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg5</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">1</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;3/3&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg5</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg5</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed&quot;</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="nx">svg5</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">social4</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="social4()" value="Run Animation">
<div id="social4"></div>

<script type="text/javascript">   
    function social4() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#social4").select("svg").remove()
        var svg5 = d3.select("div#social4").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg5.selectAll("line")
            .data(d3.range(2))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg5.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=1)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["3/3","0","0","0","0"]
        svg5.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg5.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed")
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed")
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,3,svg5)
    }
    social4()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;social5()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;social5&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">social5</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#social5&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg6</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#social5&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg6</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg6</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">1</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;4/4&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg6</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg6</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed&quot;</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="nx">svg6</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">social5</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="social5()" value="Run Animation">
<div id="social5"></div>

<script type="text/javascript">   
    function social5() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#social5").select("svg").remove()
        var svg6 = d3.select("div#social5").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg6.selectAll("line")
            .data(d3.range(2))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg6.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=1)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["4/4","0","0","0","0"]
        svg6.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg6.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed")
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed")
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,4,svg6)
    }
    social5()
</script>
</div></div>
</div>
</div>
<div class="section" id="the-gambler">
<h3>2. The Gambler<a class="headerlink" href="#the-gambler" title="Permalink to this headline">¬∂</a></h3>
<p>The Gambler is the person who only cares about the probabilites. Meaning, if there is two tables (xx), then they have a 50/50 choice, and they do not care at all about the people sitting there or not.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;gambler1()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;gambler1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">gambler1</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">500</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">270</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">35</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#gambler1&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg7</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#gambler1&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg7</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">1</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg7</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">0</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1/1&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg7</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg7</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">gambler1</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="gambler1()" value="Run Animation">
<div id="gambler1"></div>

<script type="text/javascript">   
    function gambler1() {
        var width = 500
        var height = 270
        var margin = 35
        var radius = 200

        d3.select("div#gambler1").select("svg").remove()
        var svg7 = d3.select("div#gambler1").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg7.selectAll("line")
            .data(d3.range(1))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg7.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=0)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["1/1","0","0","0","0"]
        svg7.selectAll("text")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg7.append("text")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")
    }
    gambler1()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;gambler2()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;gambler2&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">gambler2</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#gambler2&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg8</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#gambler2&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg8</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg8</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">1</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1/2&quot;</span><span class="p">,</span><span class="s2">&quot;1/2&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg8</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg8</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed&quot;</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg8</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">gambler2</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="gambler2()" value="Run Animation">
<div id="gambler2"></div>

<script type="text/javascript">   
    function gambler2() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#gambler2").select("svg").remove()
        var svg8 = d3.select("div#gambler2").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg8.selectAll("line")
            .data(d3.range(2))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg8.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=1)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["1/2","1/2","0","0","0"]
        svg8.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg8.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed")
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed")
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,1,svg8)
    }
    gambler2()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;gambler3()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;gambler3&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">gambler3</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#gambler3&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg9</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#gambler3&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1/3&quot;</span><span class="p">,</span><span class="s2">&quot;1/3&quot;</span><span class="p">,</span><span class="s2">&quot;1/3&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg9</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">3</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg9</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="o">+</span><span class="nx">d</span><span class="o">!=</span><span class="mf">0</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        
        <span class="nx">svg9</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg9</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg9</span><span class="p">,</span><span class="mf">0</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg9</span><span class="p">,</span><span class="mf">1</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">gambler3</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="gambler3()" value="Run Animation">
<div id="gambler3"></div>

<script type="text/javascript">   
    function gambler3() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#gambler3").select("svg").remove()
        var svg9 = d3.select("div#gambler3").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])
        fractions = ["1/3","1/3","1/3","0","0"]
        svg9.selectAll("line")
            .data(d3.range(3))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg9.selectAll("circle")
            // Collect
            .data(fractions)
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (+d!=0)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))


        svg9.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg9.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s,c) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed_"+c)
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed_"+c)
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,1,svg9,0)
        var cx = ((radius) * Math.cos(x(1))) + (width/2)
        var cy = ((radius) * Math.sin(x(1))) + (height-margin)
        addPeople(cx,cy,1,svg9,1)
    }
    gambler3()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;gambler4()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;gambler4&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">gambler4</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#gambler4&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg10</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#gambler4&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1/4&quot;</span><span class="p">,</span><span class="s2">&quot;1/4&quot;</span><span class="p">,</span><span class="s2">&quot;1/4&quot;</span><span class="p">,</span><span class="s2">&quot;1/4&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg10</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">4</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg10</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="o">+</span><span class="nx">d</span><span class="o">!=</span><span class="mf">0</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        
        <span class="nx">svg10</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg10</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg10</span><span class="p">,</span><span class="mf">0</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg10</span><span class="p">,</span><span class="mf">1</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg10</span><span class="p">,</span><span class="mf">2</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">gambler4</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="gambler4()" value="Run Animation">
<div id="gambler4"></div>

<script type="text/javascript">   
    function gambler4() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#gambler4").select("svg").remove()
        var svg10 = d3.select("div#gambler4").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])
        fractions = ["1/4","1/4","1/4","1/4","0"]
        svg10.selectAll("line")
            .data(d3.range(4))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg10.selectAll("circle")
            // Collect
            .data(fractions)
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (+d!=0)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))


        svg10.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg10.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s,c) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed_"+c)
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed_"+c)
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,1,svg10,0)
        var cx = ((radius) * Math.cos(x(1))) + (width/2)
        var cy = ((radius) * Math.sin(x(1))) + (height-margin)
        addPeople(cx,cy,1,svg10,1)
        var cx = ((radius) * Math.cos(x(2))) + (width/2)
        var cy = ((radius) * Math.sin(x(2))) + (height-margin)
        addPeople(cx,cy,1,svg10,2)
    }
    gambler4()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;gambler5()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;gambler5&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">gambler5</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#gambler5&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg11</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#gambler5&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">]</span>
        <span class="nx">svg11</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg11</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="o">+</span><span class="nx">d</span><span class="o">!=</span><span class="mf">0</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        
        <span class="nx">svg11</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg11</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg11</span><span class="p">,</span><span class="mf">0</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg11</span><span class="p">,</span><span class="mf">1</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg11</span><span class="p">,</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg11</span><span class="p">,</span><span class="mf">3</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">gambler5</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="gambler5()" value="Run Animation">
<div id="gambler5"></div>

<script type="text/javascript">   
    function gambler5() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#gambler5").select("svg").remove()
        var svg11 = d3.select("div#gambler5").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])
        fractions = ["1/5","1/5","1/5","1/5","1/5"]
        svg11.selectAll("line")
            .data(d3.range(5))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg11.selectAll("circle")
            // Collect
            .data(fractions)
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (+d!=0)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))


        svg11.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg11.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s,c) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed_"+c)
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed_"+c)
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,1,svg11,0)
        var cx = ((radius) * Math.cos(x(1))) + (width/2)
        var cy = ((radius) * Math.sin(x(1))) + (height-margin)
        addPeople(cx,cy,1,svg11,1)
        var cx = ((radius) * Math.cos(x(2))) + (width/2)
        var cy = ((radius) * Math.sin(x(2))) + (height-margin)
        addPeople(cx,cy,1,svg11,2)
        var cx = ((radius) * Math.cos(x(3))) + (width/2)
        var cy = ((radius) * Math.sin(x(3))) + (height-margin)
        addPeople(cx,cy,1,svg11,3)
    }
    gambler5()
</script>
</div></div>
</div>
</div>
<div class="section" id="the-long-day">
<h3>3. The Long Day<a class="headerlink" href="#the-long-day" title="Permalink to this headline">¬∂</a></h3>
<p>The Long Day scenerio describes a situation where customers (xx) coming into the restraunt had a reeeeeeeeeeeeeeeally long day. All they want is a table (xx) to themselves to eat their food, pay, and go home. This is the opposite of the Social Butterfly, where if there are people at a table (üòÉ &amp; xx). They will find an empty table (xxx).</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;long1()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;long1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">long1</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">500</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">270</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">35</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#long1&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg12</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#long1&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg12</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">1</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg12</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">0</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1/1&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg12</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg12</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">long1</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="long1()" value="Run Animation">
<div id="long1"></div>

<script type="text/javascript">   
    function long1() {
        var width = 500
        var height = 270
        var margin = 35
        var radius = 200

        d3.select("div#long1").select("svg").remove()
        var svg12 = d3.select("div#long1").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg12.selectAll("line")
            .data(d3.range(1))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg12.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=0)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["1/1","0","0","0","0"]
        svg12.selectAll("text")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg12.append("text")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")
    }
    long1()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;long2()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;long2&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">long2</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#long2&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg13</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#long2&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg13</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg13</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">1</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;1/1&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg13</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg13</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg13</span><span class="p">,</span><span class="mf">0</span><span class="p">)</span>

    <span class="p">}</span>
    <span class="nx">long2</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="long2()" value="Run Animation">
<div id="long2"></div>

<script type="text/javascript">   
    function long2() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#long2").select("svg").remove()
        var svg13 = d3.select("div#long2").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg13.selectAll("line")
            .data(d3.range(2))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg13.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=1)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["0","1/1","0","0","0"]
        svg13.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg13.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s,c) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed_"+c)
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed_"+c)
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,1,svg13,0)

    }
    long2()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;long3()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;long3&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">long3</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#long3&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg14</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#long3&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg14</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">3</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg14</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">2</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;2/2&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg14</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg14</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg14</span><span class="p">,</span><span class="mf">0</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg14</span><span class="p">,</span><span class="mf">1</span><span class="p">)</span>

    <span class="p">}</span>
    <span class="nx">long3</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="long3()" value="Run Animation">
<div id="long3"></div>

<script type="text/javascript">   
    function long3() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#long3").select("svg").remove()
        var svg14 = d3.select("div#long3").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg14.selectAll("line")
            .data(d3.range(3))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg14.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=2)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["0","0","2/2","0","0"]
        svg14.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg14.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s,c) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed_"+c)
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed_"+c)
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,1,svg14,0)
        var cx = ((radius) * Math.cos(x(1))) + (width/2)
        var cy = ((radius) * Math.sin(x(1))) + (height-margin)
        addPeople(cx,cy,1,svg14,1)

    }
    long3()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;long4()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;long4&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">long4</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#long4&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg15</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#long4&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg15</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">4</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg15</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">3</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg15</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg15</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg15</span><span class="p">,</span><span class="mf">0</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg15</span><span class="p">,</span><span class="mf">1</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg15</span><span class="p">,</span><span class="mf">2</span><span class="p">)</span>

    <span class="p">}</span>
    <span class="nx">long4</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="long4()" value="Run Animation">
<div id="long4"></div>

<script type="text/javascript">   
    function long4() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#long4").select("svg").remove()
        var svg15 = d3.select("div#long4").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg15.selectAll("line")
            .data(d3.range(4))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg15.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=3)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["0","0","0","1","0"]
        svg15.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg15.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s,c) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed_"+c)
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed_"+c)
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,1,svg15,0)
        var cx = ((radius) * Math.cos(x(1))) + (width/2)
        var cy = ((radius) * Math.sin(x(1))) + (height-margin)
        addPeople(cx,cy,1,svg15,1)
        var cx = ((radius) * Math.cos(x(2))) + (width/2)
        var cy = ((radius) * Math.sin(x(2))) + (height-margin)
        addPeople(cx,cy,1,svg15,2)

    }
    long4()
</script>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;long5()&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Run Animation&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;long5&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">function</span> <span class="nx">long5</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">300</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">55</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#long5&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="kd">var</span> <span class="nx">svg16</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#long5&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">length</span><span class="o">-</span><span class="mf">1</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>

        <span class="nx">svg16</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span> 
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span><span class="s2">&quot;darkgrey&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;10px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-linecap&quot;</span><span class="p">,</span><span class="s2">&quot;round&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>    

        <span class="nx">svg16</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="mf">30</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">&lt;=</span><span class="mf">4</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;white&quot;</span><span class="o">:</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>

        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">]</span>
        <span class="nx">svg16</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">0</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
        
        
        
        <span class="nx">svg16</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;hungry&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;50px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;30px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">40</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg16</span><span class="p">,</span><span class="mf">0</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg16</span><span class="p">,</span><span class="mf">1</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">2</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg16</span><span class="p">,</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">radius</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg16</span><span class="p">,</span><span class="mf">3</span><span class="p">)</span>

    <span class="p">}</span>
    <span class="nx">long5</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" onclick="long5()" value="Run Animation">
<div id="long5"></div>

<script type="text/javascript">   
    function long5() {
        var width = 600
        var height = 300
        var margin = 55
        var radius = 200

        d3.select("div#long5").select("svg").remove()
        var svg16 = d3.select("div#long5").append("svg")
            .attr("width", width)
            .attr("height", height)

        var x = d3.scaleLinear().domain([0,d3.range(5).length-1]).range([Math.PI, 2*Math.PI])

        svg16.selectAll("line")
            .data(d3.range(5))
            .join("line")
            .attr("x1", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y1", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("x2", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin)) 
            .style("stroke","darkgrey")
            .style("stroke-width", "10px")
            .style("stroke-linecap","round")
            .transition("line")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x2", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y2", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))    

        svg16.selectAll("circle")
            // Collect
            .data(d3.range(5))
            // Update
            .join("circle")
            .attr("cx", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .attr("r", (d,i)=> 30)
            .style("fill", (d,i)=> (i<=4)?"white":"black")
            .style("stroke", "black")
            .style("stroke-width", "1px")
            .transition("circle")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("cx", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("cy", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))

        fractions = ["0","0","0","0","1"]
        svg16.selectAll("text.perc")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc")
            .attr("x", (d,i)=> ((0) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((0) * Math.sin(x(i))) + (height-margin))  
            .style("font-size","30px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)
            .transition("text")
            .duration(1000)
            .delay((d,i)=> i * 100)
            .attr("x", (d,i)=> ((radius) * Math.cos(x(i))) + (width/2))
            .attr("y", (d,i)=> ((radius) * Math.sin(x(i))) + (height-margin))



        svg16.append("text")
            .attr("class","hungry")
            .attr("x", width/2)
            .attr("y", (height-margin))
            .style("font-size","50px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("ü§î")

        function addPeople(cx,cy,e,s,c) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed_"+c)
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed_"+c)
                .attr("x", cx)
                .attr("y", cy)  
                .style("font-size","30px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> i * 100)
                .attr("x", (d,i)=> ((40) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((40) * Math.sin(xc(i))) + cy)


        }
        var cx = ((radius) * Math.cos(x(0))) + (width/2)
        var cy = ((radius) * Math.sin(x(0))) + (height-margin)
        addPeople(cx,cy,1,svg16,0)
        var cx = ((radius) * Math.cos(x(1))) + (width/2)
        var cy = ((radius) * Math.sin(x(1))) + (height-margin)
        addPeople(cx,cy,1,svg16,1)
        var cx = ((radius) * Math.cos(x(2))) + (width/2)
        var cy = ((radius) * Math.sin(x(2))) + (height-margin)
        addPeople(cx,cy,1,svg16,2)
        var cx = ((radius) * Math.cos(x(3))) + (width/2)
        var cy = ((radius) * Math.sin(x(3))) + (height-margin)
        addPeople(cx,cy,1,svg16,3)

    }
    long5()
</script>
</div></div>
</div>
</div>
</div>
<div class="section" id="the-conclusions">
<h2>The Conclusions<a class="headerlink" href="#the-conclusions" title="Permalink to this headline">¬∂</a></h2>
<div class="section" id="st-conclusion">
<h3>‚ú®1st Conclusion‚ú®<a class="headerlink" href="#st-conclusion" title="Permalink to this headline">¬∂</a></h3>
<p>So, let‚Äôs take a look at all three of these scenario results.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;‚ú®1st Conclusion‚ú®&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;font-size:20px&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;conclusion1()&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;conc&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">var</span> <span class="nx">svg17</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span>
    <span class="kd">function</span> <span class="nx">conclusion1</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">equation</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;+&quot;</span><span class="p">,</span><span class="s2">&quot;+&quot;</span><span class="p">,</span><span class="s2">&quot;+&quot;</span><span class="p">,</span><span class="s2">&quot;+&quot;</span><span class="p">,</span><span class="s2">&quot;= 1&quot;</span><span class="p">]</span>
        <span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">3</span><span class="p">).</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">row</span><span class="p">)=&gt;{</span>
            <span class="nx">svg17</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.equ_&quot;</span><span class="o">+</span><span class="nx">row</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">equation</span><span class="p">)</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;equ_&quot;</span><span class="o">+</span><span class="nx">row</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="nx">row</span><span class="p">))</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span> 
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;text2&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">delay</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="mf">5</span><span class="o">-</span><span class="nx">i</span><span class="p">)</span> <span class="o">*</span> <span class="mf">100</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">(</span><span class="nx">i</span><span class="o">==</span><span class="mf">4</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mf">1</span><span class="p">))</span> <span class="o">:</span> <span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">+</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mf">1</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            
        <span class="p">})</span>


    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">conc</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
        <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">400</span>
        <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">65</span>
        <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#conc&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="nx">svg17</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#conc&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">range</span><span class="p">([</span><span class="nx">margin</span><span class="p">,</span><span class="nx">width</span><span class="o">-</span><span class="nx">margin</span><span class="p">]).</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">6</span><span class="p">])</span>
        <span class="nx">y</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">range</span><span class="p">([</span><span class="nx">margin</span><span class="p">,</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">]).</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">2</span><span class="p">])</span>
        
        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">]</span>
        <span class="nx">svg17</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle.row1&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;row1&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>
            
        <span class="nx">svg17</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc1&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc1&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>

        
        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">]</span>
        <span class="nx">svg17</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle.row2&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;row2&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">1</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>

        <span class="nx">svg17</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc2&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc2&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">1</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>

        
        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">]</span>
        <span class="nx">svg17</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle.row3&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;row3&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>

        <span class="nx">svg17</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc3&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc3&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>

        
        <span class="nx">svg17</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;title1&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span><span class="o">-</span><span class="mf">45</span><span class="p">)</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;The Social Butterfly&quot;</span><span class="p">)</span>     
        
        <span class="nx">svg17</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;title1&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="o">-</span><span class="mf">45</span><span class="p">)</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;The Gambler&quot;</span><span class="p">)</span> 

        <span class="nx">svg17</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;title1&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span><span class="o">-</span><span class="mf">45</span><span class="p">)</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;The Long Day&quot;</span><span class="p">)</span> 
        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">20</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">20</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>

        
            
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="nx">svg17</span><span class="p">,</span><span class="mf">0</span><span class="p">)</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">4</span><span class="p">).</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
            <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="nx">y</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
            <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg17</span><span class="p">,</span><span class="nx">i</span><span class="o">+</span><span class="mf">1</span><span class="p">)</span>
            
        <span class="p">})</span>

        <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="nx">x</span><span class="p">(</span><span class="mf">4</span><span class="p">)</span>
        <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span>
        <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="nx">svg17</span><span class="p">,</span><span class="mf">6</span><span class="p">)</span>


    <span class="p">}</span>
    <span class="nx">conc</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" value="‚ú®1st Conclusion‚ú®" style="font-size:20px" onclick="conclusion1()">
<div id="conc"></div>

<script type="text/javascript">   
    var svg17, x, y
    function conclusion1() {
        var equation = ["+","+","+","+","= 1"]
        d3.range(3).forEach((d,row)=>{
            svg17.selectAll("text.equ_"+row)
                // Collect
                .data(equation)
                // Update
                .join("text")
                .attr("class","equ_"+row)
                .attr("x", 0)
                .attr("y", y(row))  
                .style("font-size","20px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>d) 
                .transition("text2")
                .duration(1000)
                .delay((d,i)=> (5-i) * 100)
                .attr("x", (d,i)=> (i==4) ? (x(i+1)) : (x(i)+x(i+1))/2)

        })


    }
    function conc() {
        var width = 600
        var height = 400
        var margin = 65
        var radius = 200

        d3.select("div#conc").select("svg").remove()
        svg17 = d3.select("div#conc").append("svg")
            .attr("width", width)
            .attr("height", height)

        x = d3.scaleLinear().range([margin,width-margin]).domain([0,6])
        y = d3.scaleLinear().range([margin,height-margin]).domain([0,2])

        fractions = ["1","0","0","0","0"]
        svg17.selectAll("circle.row1")
            .data(fractions)
            .join("circle")
            .attr("class","row1")
            .attr("cx", (d,i)=> x(i))
            .attr("cy", y(0))  
            .attr("r", 20)
            .style("fill", "white")
            .style("stroke", "black")
            .style("stroke-width", "1px")

        svg17.selectAll("text.perc1")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc1")
            .attr("x", (d,i)=> x(i))
            .attr("y", y(0))  
            .style("font-size","20px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)


        fractions = ["1/5","1/5","1/5","1/5","1/5"]
        svg17.selectAll("circle.row2")
            .data(fractions)
            .join("circle")
            .attr("class","row2")
            .attr("cx", (d,i)=> x(i))
            .attr("cy", y(1))  
            .attr("r", 20)
            .style("fill", "white")
            .style("stroke", "black")
            .style("stroke-width", "1px")

        svg17.selectAll("text.perc2")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc2")
            .attr("x", (d,i)=> x(i))
            .attr("y", y(1))  
            .style("font-size","20px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)


        fractions = ["0","0","0","0","1"]
        svg17.selectAll("circle.row3")
            .data(fractions)
            .join("circle")
            .attr("class","row3")
            .attr("cx", (d,i)=> x(i))
            .attr("cy", y(2))  
            .attr("r", 20)
            .style("fill", "white")
            .style("stroke", "black")
            .style("stroke-width", "1px")

        svg17.selectAll("text.perc3")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("class","perc3")
            .attr("x", (d,i)=> x(i))
            .attr("y", y(2))  
            .style("font-size","20px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)


        svg17.append("text")
            .attr("class","title1")
            .attr("x", 20)
            .attr("y", y(0)-45)  
            .style("font-size","20px")
            .style("alignment-baseline","middle")
            .text("The Social Butterfly")     

        svg17.append("text")
            .attr("class","title1")
            .attr("x", 20)
            .attr("y", y(1)-45)  
            .style("font-size","20px")
            .style("alignment-baseline","middle")
            .text("The Gambler") 

        svg17.append("text")
            .attr("class","title1")
            .attr("x", 20)
            .attr("y", y(2)-45)  
            .style("font-size","20px")
            .style("alignment-baseline","middle")
            .text("The Long Day") 

        function addPeople(cx,cy,e,s,c) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed_"+c)
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed_"+c)
                .attr("x", (d,i)=> ((20) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((20) * Math.sin(xc(i))) + cy)
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>"üòÉ")



        }
        var cx = x(0)
        var cy = y(0)
        addPeople(cx,cy,4,svg17,0)

        d3.range(4).forEach((d,i) => {
            var cx = x(i)
            var cy = y(1)
            addPeople(cx,cy,1,svg17,i+1)

        })

        var cx = x(4)
        var cy = y(2)
        addPeople(cx,cy,4,svg17,6)


    }
    conc()
</script>
</div></div>
</div>
<p>Our ‚ú®1st Conclusion‚ú® is that for each scenerio, the total probablities (when added together), equal 1. This is our first connection the <em>Dirichlet Distribution</em>.</p>
<div class="tip admonition">
<p class="admonition-title">Dirichlet Distribution Always Sum to 1</p>
<p>Regardless of the number of tables (‚ö™), the number of people at the tables (üòÉ), or a hungry persons‚Äô (ü§î) strategy. The total probability will be 1. This is also consider to be a <em>probability mass function</em> or PMF property.</p>
</div>
</div>
<div class="section" id="nd-conclusion">
<h3>‚ú®2nd Conclusion‚ú®<a class="headerlink" href="#nd-conclusion" title="Permalink to this headline">¬∂</a></h3>
<p>This easiest to see with our ‚ÄúThe Gambler‚Äù scenerio.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;‚ú®2nd Conclusion‚ú®&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;font-size:20px&quot;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;conclusion2()&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;conc2&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>   
    <span class="kd">var</span> <span class="nx">svg18</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span>
    <span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="mf">600</span>
    <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="mf">400</span>
    <span class="kd">var</span> <span class="nx">margin</span> <span class="o">=</span> <span class="mf">65</span>
    <span class="kd">var</span> <span class="nx">radius</span> <span class="o">=</span> <span class="mf">200</span>
    <span class="kd">function</span> <span class="nx">conclusion2</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">conc2</span><span class="p">()</span>
        <span class="nx">svg18</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle#face_4&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move1&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">x</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
        
        <span class="nx">svg18</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text#face_4&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move2&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">x</span><span class="p">(</span><span class="mf">5</span><span class="p">))</span>
        
        <span class="nx">svg18</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text#feed_5&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move2b&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">x</span><span class="p">(</span><span class="mf">5</span><span class="p">)</span><span class="o">-</span><span class="mf">20</span><span class="p">)</span>
        
        <span class="nx">svg18</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="s2">&quot;join&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span> <span class="o">+</span> <span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">y</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="o">+</span><span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span> <span class="o">+</span> <span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">y</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="o">+</span><span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;purple&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;3px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move3&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span> <span class="o">-</span> <span class="mf">10</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span> <span class="o">+</span> <span class="mf">10</span><span class="p">)</span>
        
        <span class="nx">svg18</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="s2">&quot;join&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">6</span><span class="p">)</span> <span class="o">+</span> <span class="nx">x</span><span class="p">(</span><span class="mf">4</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">y</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="o">+</span><span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">6</span><span class="p">)</span> <span class="o">+</span> <span class="nx">x</span><span class="p">(</span><span class="mf">4</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">y</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="o">+</span><span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;steelblue&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;3px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move4&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">(</span><span class="mf">4</span><span class="p">)</span> <span class="o">-</span> <span class="mf">10</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">(</span><span class="mf">6</span><span class="p">)</span> <span class="o">+</span> <span class="mf">10</span><span class="p">)</span>
        
        <span class="nx">svg18</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="s2">&quot;join&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="o">-</span> <span class="mf">10</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">1</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;To Join&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move5&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span> <span class="o">+</span> <span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span> 
        
        <span class="nx">svg18</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="s2">&quot;join&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">width</span> <span class="o">+</span> <span class="mf">10</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">1</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;Or Not To Join&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move6&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">6</span><span class="p">)</span> <span class="o">+</span> <span class="nx">x</span><span class="p">(</span><span class="mf">4</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span> 
        
        <span class="nx">svg18</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="s2">&quot;join&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="nx">x</span><span class="p">(</span><span class="mf">4</span><span class="p">)</span> <span class="o">-</span> <span class="mf">10</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span> <span class="o">+</span> <span class="mf">10</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mf">10</span><span class="p">)</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move6&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">y</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="o">+</span><span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
        
        
        <span class="kd">function</span> <span class="nx">createEquation1</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">top</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">svg18</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="o">+</span><span class="mf">10</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">top</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move6&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span><span class="o">-</span><span class="mf">15</span><span class="p">)</span>
            
            <span class="nx">svg18</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;line&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">top</span> <span class="o">==</span> <span class="s2">&quot;ü§î&quot;</span><span class="p">)</span> <span class="o">?</span> <span class="s2">&quot;steelblue&quot;</span> <span class="o">:</span> <span class="s2">&quot;purple&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;3px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move7&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y1&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y2&quot;</span><span class="p">,</span> <span class="nx">cy</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move8&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="o">-</span><span class="mf">20</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x2&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="o">+</span><span class="mf">20</span><span class="p">)</span>
            
            <span class="nx">svg18</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="o">+</span><span class="mf">10</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;üòÉüòÉüòÉüòÉü§î&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move8&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span><span class="o">+</span><span class="mf">15</span><span class="p">)</span>
            
        <span class="p">}</span>
        <span class="kd">function</span> <span class="nx">createEquation2</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">top</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">svg18</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="o">+</span><span class="mf">10</span><span class="p">)</span>  
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,(</span><span class="nx">top</span><span class="o">==</span><span class="s2">&quot;= 1&quot;</span><span class="p">)</span> <span class="o">?</span> <span class="s2">&quot;30px&quot;</span> <span class="o">:</span> <span class="s2">&quot;20px&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">top</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s2">&quot;move6&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">duration</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">))</span>

        <span class="p">}</span>
        <span class="nx">createEquation1</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">),</span><span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
        <span class="nx">createEquation2</span><span class="p">((</span><span class="nx">x</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span><span class="o">+</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">,</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        
        <span class="nx">createEquation1</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">),</span><span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
        <span class="nx">createEquation2</span><span class="p">((</span><span class="nx">x</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="o">+</span><span class="nx">x</span><span class="p">(</span><span class="mf">2</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">,</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>        
        
        <span class="nx">createEquation1</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span><span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
        <span class="nx">createEquation2</span><span class="p">((</span><span class="nx">x</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span><span class="o">+</span><span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">,</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        
        <span class="nx">createEquation1</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">),</span><span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>
        <span class="nx">createEquation2</span><span class="p">((</span><span class="nx">x</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span><span class="o">+</span><span class="nx">x</span><span class="p">(</span><span class="mf">4</span><span class="p">))</span><span class="o">/</span><span class="mf">2</span><span class="p">,</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        
        <span class="nx">createEquation1</span><span class="p">(</span><span class="nx">x</span><span class="p">(</span><span class="mf">5</span><span class="p">),</span><span class="nx">y</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span><span class="s2">&quot;ü§î&quot;</span><span class="p">)</span>
        <span class="nx">createEquation2</span><span class="p">((</span><span class="nx">x</span><span class="p">(</span><span class="mf">6</span><span class="p">)),</span><span class="s2">&quot;= 1&quot;</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">conc2</span><span class="p">()</span> <span class="p">{</span>
        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#conc2&quot;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="nx">svg18</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;div#conc2&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span>

        <span class="nx">x</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">range</span><span class="p">([</span><span class="nx">margin</span><span class="p">,</span><span class="nx">width</span><span class="o">-</span><span class="nx">margin</span><span class="p">]).</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">6</span><span class="p">])</span>
        <span class="nx">y</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">range</span><span class="p">([</span><span class="nx">margin</span><span class="p">,</span><span class="nx">height</span><span class="o">-</span><span class="nx">margin</span><span class="p">]).</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="mf">2</span><span class="p">])</span>
        

        
        <span class="nx">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">,</span><span class="s2">&quot;1/5&quot;</span><span class="p">]</span>
        <span class="nx">svg18</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;circle.row2&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="s2">&quot;face_&quot;</span><span class="o">+</span><span class="nx">i</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;row2&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cx&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;cy&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;fill&quot;</span><span class="p">,</span> <span class="s2">&quot;white&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;stroke-width&quot;</span><span class="p">,</span> <span class="s2">&quot;1px&quot;</span><span class="p">)</span>

        <span class="nx">svg18</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.perc2&quot;</span><span class="p">)</span>
            <span class="c1">// Collect</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">fractions</span><span class="p">)</span>
            <span class="c1">// Update</span>
            <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="s2">&quot;face_&quot;</span><span class="o">+</span><span class="nx">i</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;perc2&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;</span><span class="nx">d</span><span class="p">)</span>
        
        <span class="nx">svg18</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;title1&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span><span class="o">-</span><span class="mf">45</span><span class="p">)</span>  
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;font-size&quot;</span><span class="p">,</span><span class="s2">&quot;20px&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;The Gambler - ü§î&quot;</span><span class="p">)</span> 
        



        
        <span class="kd">function</span> <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">scaleLinear</span><span class="p">().</span><span class="nx">domain</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">length</span><span class="p">]).</span><span class="nx">range</span><span class="p">([</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="mf">3</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">])</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;text.feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="c1">// Collect</span>
                <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span>
                <span class="c1">// Update</span>
                <span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="s2">&quot;feed_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">20</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)=&gt;</span> <span class="p">((</span><span class="mf">20</span><span class="p">)</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">xc</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;text-anchor&quot;</span><span class="p">,</span> <span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s2">&quot;alignment-baseline&quot;</span><span class="p">,</span><span class="s2">&quot;middle&quot;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">d</span><span class="p">=&gt;(</span><span class="nx">c</span><span class="o">==</span><span class="mf">5</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;ü§î&quot;</span><span class="o">:</span><span class="s2">&quot;üòÉ&quot;</span><span class="p">)</span>

        
            
        <span class="p">}</span>

        
        <span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">5</span><span class="p">).</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">d</span><span class="p">,</span><span class="nx">i</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">cx</span> <span class="o">=</span> <span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
            <span class="kd">var</span> <span class="nx">cy</span> <span class="o">=</span> <span class="nx">y</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
            <span class="nx">addPeople</span><span class="p">(</span><span class="nx">cx</span><span class="p">,</span><span class="nx">cy</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="nx">svg18</span><span class="p">,</span><span class="nx">i</span><span class="o">+</span><span class="mf">1</span><span class="p">)</span>
            
        <span class="p">})</span>



    <span class="p">}</span>
    <span class="nx">conc2</span><span class="p">()</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_html"><input type="button" value="‚ú®2nd Conclusion‚ú®" style="font-size:20px" onclick="conclusion2()">
<div id="conc2"></div>

<script type="text/javascript">   
    var svg18, x, y
    var width = 600
    var height = 400
    var margin = 65
    var radius = 200
    function conclusion2() {
        conc2()
        svg18.selectAll("circle#face_4")
            .transition("move1")
            .duration(1000)
            .attr("cx", (d,i)=> x(5))

        svg18.selectAll("text#face_4")
            .transition("move2")
            .duration(1000)
            .attr("x", (d,i)=> x(5))

        svg18.selectAll("text#feed_5")
            .transition("move2b")
            .duration(1000)
            .attr("x", (d,i)=> x(5)-20)

        svg18.append("line")
            .attr("id","join")
            .attr("x1", (x(3) + x(0))/2)
            .attr("y1", (y(1)+y(0))/2)
            .attr("x2", (x(3) + x(0))/2)
            .attr("y2", (y(1)+y(0))/2)
            .style("stroke", "purple")
            .style("stroke-width", "3px")
            .transition("move3")
            .duration(1000)
            .attr("x1", x(0) - 10)
            .attr("x2", x(3) + 10)

        svg18.append("line")
            .attr("id","join")
            .attr("x1", (x(6) + x(4))/2)
            .attr("y1", (y(1)+y(0))/2)
            .attr("x2", (x(6) + x(4))/2)
            .attr("y2", (y(1)+y(0))/2)
            .style("stroke", "steelblue")
            .style("stroke-width", "3px")
            .transition("move4")
            .duration(1000)
            .attr("x1", x(4) - 10)
            .attr("x2", x(6) + 10)

        svg18.append("text")
            .attr("id","join")
            .attr("x", (d,i)=> - 10)
            .attr("y", y(1))  
            .style("font-size","20px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("To Join")
            .transition("move5")
            .duration(1000)
            .attr("x", (x(3) + x(0))/2) 

        svg18.append("text")
            .attr("id","join")
            .attr("x", (d,i)=> width + 10)
            .attr("y", y(1))  
            .style("font-size","20px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("Or Not To Join")
            .transition("move6")
            .duration(1000)
            .attr("x", (x(6) + x(4))/2) 

        svg18.append("text")
            .attr("id","join")
            .attr("x", (d,i)=> ((x(4) - 10)+(x(3) + 10))/2)
            .attr("y", -10)  
            .style("font-size","20px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text("+")
            .transition("move6")
            .duration(1000)
            .attr("y", (y(1)+y(0))/2)


        function createEquation1(cx,cy,top) {
            svg18.append("text")
                .attr("x", cx)
                .attr("y", height+10)  
                .style("font-size","20px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(top)
                .transition("move6")
                .duration(1000)
                .attr("y", y(2)-15)

            svg18.append("line")
                .attr("x1", cx)
                .attr("y1", 0)  
                .attr("x2", cx)
                .attr("y2", 0)
                .style("stroke", (top == "ü§î") ? "steelblue" : "purple")
                .style("stroke-width", "3px")
                .transition("move7")
                .duration(1000)
                .attr("y1", cy)
                .attr("y2", cy)
                .transition("move8")
                .duration(1000)
                .attr("x1", cx-20)
                .attr("x2", cx+20)

            svg18.append("text")
                .attr("x", cx)
                .attr("y", height+10)  
                .style("font-size","10px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text("üòÉüòÉüòÉüòÉü§î")
                .transition("move8")
                .duration(1000)
                .attr("y", y(2)+15)

        }
        function createEquation2(cx,top) {
            svg18.append("text")
                .attr("x", cx)
                .attr("y", height+10)  
                .style("font-size",(top=="= 1") ? "30px" : "20px")
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(top)
                .transition("move6")
                .duration(1000)
                .attr("y", y(2))

        }
        createEquation1(x(0),y(2),"üòÉ")
        createEquation2((x(0)+x(1))/2,"+")

        createEquation1(x(1),y(2),"üòÉ")
        createEquation2((x(1)+x(2))/2,"+")        

        createEquation1(x(2),y(2),"üòÉ")
        createEquation2((x(2)+x(3))/2,"+")

        createEquation1(x(3),y(2),"üòÉ")
        createEquation2((x(3)+x(4))/2,"+")

        createEquation1(x(5),y(2),"ü§î")
        createEquation2((x(6)),"= 1")
    }
    function conc2() {

        d3.select("div#conc2").select("svg").remove()
        svg18 = d3.select("div#conc2").append("svg")
            .attr("width", width)
            .attr("height", height)

        x = d3.scaleLinear().range([margin,width-margin]).domain([0,6])
        y = d3.scaleLinear().range([margin,height-margin]).domain([0,2])



        fractions = ["1/5","1/5","1/5","1/5","1/5"]
        svg18.selectAll("circle.row2")
            .data(fractions)
            .join("circle")
            .attr("id",(d,i)=> "face_"+i)
            .attr("class","row2")
            .attr("cx", (d,i)=> x(i))
            .attr("cy", y(0))  
            .attr("r", 20)
            .style("fill", "white")
            .style("stroke", "black")
            .style("stroke-width", "1px")

        svg18.selectAll("text.perc2")
            // Collect
            .data(fractions)
            // Update
            .join("text")
            .attr("id",(d,i)=> "face_"+i)
            .attr("class","perc2")
            .attr("x", (d,i)=> x(i))
            .attr("y", y(0))  
            .style("font-size","20px")
            .style("text-anchor", "middle")
            .style("alignment-baseline","middle")
            .text(d=>d)

        svg18.append("text")
            .attr("class","title1")
            .attr("x", 20)
            .attr("y", y(0)-45)  
            .style("font-size","20px")
            .style("alignment-baseline","middle")
            .text("The Gambler - ü§î") 





        function addPeople(cx,cy,e,s,c) {
            var xc = d3.scaleLinear().domain([0,d3.range(e).length]).range([Math.PI, 3*Math.PI])
            s.selectAll("text.feed_"+c)
                // Collect
                .data(d3.range(e))
                // Update
                .join("text")
                .attr("class","feed_"+c)
                .attr("id","feed_"+c)
                .attr("x", (d,i)=> ((20) * Math.cos(xc(i))) + cx)
                .attr("y", (d,i)=> ((20) * Math.sin(xc(i))) + cy)
                .style("text-anchor", "middle")
                .style("alignment-baseline","middle")
                .text(d=>(c==5)?"ü§î":"üòÉ")



        }


        d3.range(5).forEach((d,i) => {
            var cx = x(i)
            var cy = y(0)
            addPeople(cx,cy,1,svg18,i+1)

        })



    }
    conc2()
</script>
</div></div>
</div>
<div class="tip admonition">
<p class="admonition-title">When All Possibility Are Equally Likely</p>
<p>In situations where are all possibility are equally likely (equally likely to sit at a table with someone else (‚ö™&amp;üòÉ) or sit at a new table (‚ö™)), we can abbreviate this to a simple probablity:</p>
<p><span class="math notranslate nohighlight">\(\frac{üòÉ}{üòÉüòÉüòÉüòÉ}\)</span> <span class="math notranslate nohighlight">\(=\)</span> <span class="math notranslate nohighlight">\(\frac{Number of people sitting at table(‚ö™&amp;üòÉ)}{All people (üòÉüòÉüòÉüòÉ)}\)</span> <span class="math notranslate nohighlight">\(= \)</span> <span class="math notranslate nohighlight">\(\frac{Nj}{N}\)</span></p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">dirichlet</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">])</span>
<span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">dirichlet</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0., 0., 0., 1., 0.],
       [0., 1., 0., 0., 0.],
       [0., 0., 0., 1., 0.],
       [0., 0., 1., 0., 0.],
       [0., 0., 0., 1., 0.]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">dirichlet</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[1. , 0. , 0. , 0. , 0. ],
       [0. , 0.4, 0. , 0.5, 0. ],
       [0.9, 0. , 0.1, 0. , 0. ],
       [1. , 0. , 0. , 0. , 0. ],
       [0. , 0. , 0. , 0. , 1. ]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">dirichlet</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.2, 0.3, 0.4, 0.1, 0. ],
       [0. , 0.7, 0.1, 0. , 0.1],
       [0. , 0.5, 0.2, 0.3, 0.1],
       [0.3, 0.2, 0.3, 0.1, 0.2],
       [0.4, 0.2, 0.2, 0.2, 0.1]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">dirichlet</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.1, 0.2, 0.1, 0.2, 0.3],
       [0.3, 0.1, 0.2, 0.2, 0.2],
       [0.4, 0.2, 0.1, 0.2, 0.1],
       [0.3, 0.3, 0.2, 0.2, 0.1],
       [0.2, 0.2, 0.2, 0.2, 0.2]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">])</span>
<span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">dirichlet</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.2, 0.3, 0.2, 0.1, 0.2],
       [0.2, 0.2, 0.2, 0.2, 0.2],
       [0.1, 0.2, 0.2, 0.2, 0.2],
       [0.2, 0.2, 0.3, 0.1, 0.2],
       [0.2, 0.2, 0.2, 0.2, 0.2]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">])</span>
<span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">dirichlet</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.2, 0.2, 0.2, 0.2, 0.2],
       [0.2, 0.2, 0.2, 0.2, 0.2],
       [0.2, 0.2, 0.2, 0.2, 0.2],
       [0.2, 0.2, 0.2, 0.2, 0.2],
       [0.2, 0.2, 0.2, 0.2, 0.2]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>

<span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">dirichlet</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">alpha</span><span class="p">),</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script src='https://d3js.org/d3.v6.min.js'></script></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.   , 0.005, 0.047, 0.474, 0.474])
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "dudaspm/JupyterLab-Python",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Patrick M. Dudas<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>